define(["jq!starfield/jquery.mod"],function(e){function r(){if(!n)return;e(document).ready(function(){var t=e("#wsb-shell-preview-desktop .wsb-canvas:first, body > .wsb-canvas:first").first(),n=e('<div style="position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;"></div>'),r=t.find(".wsb-canvas-scrollable:first");t=r.length==1?r:t;var i=t.css("background-image"),s=i.match(/url\(.+?\)/ig);if(s&&s.length>0){var o=s[0],u=i.replace(o,"");u.length>0&&u[0]===","&&(u=u.substring(1)),u=e.trim(u);var a=t[0],f=t.css("background-repeat"),l=t.css("background-position"),c=a.style.backgroundPositionX,h=a.style.backgroundPositionY;t.css("background-image",u),t.css("background-repeat","repeat"),t.css("background-position","0% 0%"),a.style.backgroundPositionX="0%",a.style.backgroundPositionY="0%";var p=n[0];n.css("background-image",o),n.css("background-repeat",f),n.css("background-position",l),p.style.backgroundPositionX=c,p.style.backgroundPositionY=h,t.prepend(n),t.find(".wsb-canvas-page-container").css("z-index",2)}})}var t=/(msie) ([\w.]+)/.exec(window.navigator.userAgent.toLowerCase()),n=t&&t.length===3&&t[1]==="msie"&&parseInt(t[2],10)<10;return{fixBackground:r}});